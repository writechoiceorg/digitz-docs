openapi: 3.1.0
info:
  title: Digitzs API II
  version: 1.0.0
servers:
  - url: http://{{endpoint}}
tags:
    - name: Authorization
    - name: Payments
    - name: Merchants
components:
  schemas:
    data:
      type: object
      description: A key for grouping different types of API data.
    APIcallType:
      type: string
      description: This API call type. This call must be `auth`.
      default: auth
    attributes:
      type: object
      description: A key for grouping data.
    appId:
      type: string
      description: Supplied by Digitzs on onboarding.
    appKey:
      type: string
      description: The key used to create an appToken with `/auth/token`.
    appToken:
      type: string
      description: The `Authorization` header value to use for most API calls.
  securitySchemes:
    sec0:
      type: apiKey
      in: header
      name: x-api-key
security:
  - sec0: []
paths:
  /auth/key:
    post:
      tags:
        - Authorization
      summary: Create API Key
      operationId: create-api-key
      description: >-
        Use endpoint `POST /auth/key` to get an appKey for your application. You
        can create a new key at any time. Creating a new key renders the old key
        unusable. This is required and only used for `/auth/token`.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - data
                - type
                - attributes
                - appId
              properties:
                data:
                  $ref: '#/components/schemas/data'
                  properties:
                    type:
                      $ref: '#/components/schemas/APIcallType'
                    attributes:
                      $ref: '#/components/schemas/attributes'
                      properties:
                        appId:
                          $ref: '#/components/schemas/appId'
      responses:
        '201':
          description: 'Created'
          content:
            application/json:
              examples:
                Result:
                  value: |-
                    {
                      "links": {
                        "self": "xxxx/auth/key"
                      },
                      "data": {
                        "type": "auth",
                        "id": "xxxx",
                        "attributes": {
                          "appKey": "xxxx"
                        }
                      }
                    }
              schema:
                type: object
                properties:
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: URL for the current resource.
                  data:
                    type: object
                    properties:
                      type:
                        type: string
                        description: Type of the response data.
                      id:
                        type: string
                        description: The same `x-api-key` used in the Header.
                      attributes:
                        type: object
                        properties:
                          appKey:
                            $ref: '#/components/schemas/appKey'
      deprecated: false
  /auth/token:
    post:
      tags:
        - Authorization
      summary: Create App Token
      operationId: create-app-token
      description: >-
        Use endpoint `POST /auth/token` to get a temporary appToken. You will
        use the token to authenticate your application’s calls to the Digitzs
        API. **Tokens expire after one hour.**

        > 📘 Note
        
        > The `Authorization` header value that is created with this must be formatted `Bearer xxxxxx`, with x's replaced with the `appToken` value.
      


        > 🚧 **Tokens expire after one hour**
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - data
                - type
                - attributes
                - appKey
              properties:
                data:
                  $ref: '#/components/schemas/data'
                  properties:
                    type:
                      $ref: '#/components/schemas/APIcallType'
                    attributes:
                      attributes:
                      $ref: '#/components/schemas/attributes'
                      properties:
                        appKey:
                          $ref: '#/components/schemas/appKey'
      responses:
        '201':
          description: 'Created'
          content:
            application/json:
              examples:
                Result:
                  value: |-
                    {
                      "links": {
                        "self": "xxxx/auth/token"
                      },
                      "data": {
                        "type": "auth",
                        "id": "xxxx",
                        "attributes": {
                          "appToken": "xxxx"
                        }
                      }
                    }
              schema:
                type: object
                properties:
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: URL for the current resource.
                  data:
                    type: object
                    properties:
                      type:
                        type: string
                        description: Type of the response data.
                      id:
                        type: string
                        description: The same `x-api-key` used in the Header.
                      attributes:
                        type: object
                        properties:
                          appToken:
                            $ref: '#/components/schemas/appToken'
      deprecated: false
  /payments:
    post:
      tags:
        - Payments
      summary: Create Payments
      operationId: create-payments
      description: >-
        Use endpoint **POST** `/payments` to refund the split of a payment.
      parameters:
        - name: Authorization
          in: header
          schema:
            type: string
          description: >-
            appToken created by `/auth/token`

            <small>Format:  `Bearer xxxxxx...`</small>
          example: Bearer <appToken>
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                data:
                  type: object
                  description: A key for grouping different types of API data.
                  properties:
                    type:
                      type: string
                      description: The type of transaction.
                    attributes:
                      type: object
                      description: A key for grouping payment identification data.
                      properties:
                        paymentType:
                          type: string
                          description: The type of payment transaction.
                          enum:
                            - ACH
                            - tokenv3
                            - tokenv3Split
                            - secondSplit
                            - cardRefund
                            - cardSplitRefund
                        merchantId:
                          type: string
                          description: The merchant account number.
                        miscData:
                          type: string
                          description: Optional additional information to store with the call (optional).
                        StandardEntryClassCode:
                          type: string
                          description: >-
                            Must be WEB. **Required only for payment type `ACH`**.
                        bank:
                          type: object
                          description: >-
                            A key for grouping ACH bank information.
                            **Required only for payment type `ACH`**.
                          properties:
                            accountType:
                              type: string
                              description: The type of bank account (Checking or Savings).
                            accountName:
                              type: string
                              description: The first and last name of the account holder.
                            accountNumber:
                              type: string
                              description: The financial institution account number.
                            routingNumber:
                              type: string
                              description: The bank routing number. Required if the payment method is checking or savings. Test environment requires a real routing number.
                        transaction:
                          type: object
                          description: >-
                            A key for grouping payment transaction data.
                            **Required for all payment types except `secondSplit`**.
                          properties:
                            amount:
                              type: integer
                              description: The transaction amount in cents.
                            currency:
                              type: string
                              description: The three-character code.
                            invoice:
                              type: string
                              description: The invoice number for the transaction.
                        token:
                          type: object
                          description: A key for grouping payment token information.
                          properties:
                            holder:
                              type: string
                              description: The first and last name on the account.
                            tokenId:
                              type: string
                              description: The Token ID retrieved from the embedded checkout.
                            expiry:
                              type: string
                              description: The expiration date of the payment method.
                            useAVS:
                              type: boolean
                              description: True/False for requiring a ZIP match (or greater) to capture the payment.
                        billingAddress:
                          type: object
                          description: A key for grouping billing address data.
                          properties:
                            line1:
                              type: string
                              description: The card holder’s street address (optional but recommended).
                            line2:
                              type: string
                              description: The card holder’s additional street address information (optional but recommended).
                            city:
                              type: string
                              description: The card holder’s home city (optional but recommended).
                            state:
                              type: string
                              description: The card holder’s home state (optional but recommended).
                            zip:
                              type: string
                              description: The card holder’s zip or postal code (optional, but recommended.)
                            country:
                              type: string
                              description: The card holder’s home country (optional but recommended).
                        split:
                          type: object
                          description: A key for grouping split information.
                          properties:
                            merchantId:
                              type: string
                              description: The merchant ID for the split transaction.
                            amount:
                              type: string
                              description: The amount to be split in cents.
                        originalTransaction:
                          type: object
                          description: A key for referencing the original split transaction.
                          properties:
                            id:
                              type: string
                              description: The ID of the original split transaction.
                        originalSplit:
                          type: object
                          description: A key for referencing the original payment to be refunded.
                          properties:
                            id:
                              type: string
                              description: The transaction ID to be refunded.
      responses:
        '201':
          description: 'Created'
          content:
            application/json:
              examples:
                Result:
                  value: |-
                    {
                      "links": {
                        "self": "x"
                      },
                      "data": {
                        "type": "payments",
                        "id": "{paymentId}",
                        "attributes": {
                          "paymentType": "card",
                          "transaction": {
                            "code": "0",
                            "message": "Success",
                            "amount": "500",
                            "invoice": "123456",
                            "currency": "USD",
                            "authCode": "A11111",
                            "avsResult": "T",
                            "gross": "500",
                            "net": "450",
                            "grossMinusNet": "50",
                            "fee": "35",
                            "rate": "2.95"
                          }
                        }
                      }
                    }
              schema:
                type: object
                properties:
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: URL for the current resource.
                  data:
                    type: object
                    properties:
                      type:
                        type: string
                        description: The type of transaction.
                      id:
                        type: string
                        description: The payment transaction identification code.
                      attributes:
                        type: object
                        description: A key for grouping payment identification data.
                        properties:
                          paymentType:
                            type: string
                            description: The application key.
                          transaction:
                            type: object
                            description: A key for grouping payment identification data.
                            properties:
                              code:
                                type: string
                                description: The banking entity response code.
                              message:
                                type: string
                                description: The status of the transaction.
                              amount:
                                type: string
                                description: The transaction amount in dollars and cents.
                              invoice:
                                type: string
                                description: The invoice number for the transaction.
                              currency:
                                type: string
                                description: The currency used for the transaction.
      deprecated: false
    get:
      tags:
        - Payments
      summary: Get payment List for Merchant
      operationId: get-payment-list-for-merchant
      description: >-
        Use endpoint **GET** `/payments` to retrieve a list of transactions

        > 📘 Note

        > There are no request parameters for this endpoint, besides the merchantId in the URI.
      parameters:
        - name: Authorization
          in: header
          schema:
            type: string
          description: >-
            appToken created by `/auth/token`

            <small>Format:  `Bearer xxxxxx...`</small>
          example: Bearer <appToken>
        - name: limit
          in: query
          schema:
            type: integer
          description: Limit's the amount of items that can be returned.
          example: '25'
        - name: id
          in: query
          schema:
            type: string
          description: The merchantId to query results by.
          example: '<merchantId>'
      responses:
        '200':
          description: Successful response for getting payments
          content:
            application/json:
              examples:
                paymentIdWithBank:
                  value:
                    links:
                      self: "x"
                      next: "x"
                      note: "URL to call for next set"
                    meta:
                      items: 25
                      count: 26
                      limit: "25"
                      more: true
                    data:
                      - id: "paymentIdWithBank"
                        type: "payments"
                        attributes:
                          bank:
                            routingNumber: "xxxx9593"
                            bankName: "Wells Fargo"
                            accountNumber: "xxxx4567"
                            accountName: "MegaCorp"
                            accountType: "checking"
                          created: "2019-10-10T19:05:58.955Z"
                          merchantId: "merchantId"
                          paymentType: "ACH"
                          transaction:
                            amount: "3635"
                            currency: "USD"
                            invoice: "Payment-ACH-02"
                            code: "0"
                            message: "Success"
                VoidId:
                  value:
                    links:
                      self: "x"
                      next: "x"
                      note: "URL to call for next set"
                    meta:
                      items: 25
                      count: 26
                      limit: "25"
                      more: true
                    data:
                      - id: "VoidId"
                        type: "payments"
                        attributes:
                          created: "2019-10-10T18:49:55.628Z"
                          merchantId: "merchantId"
                          paymentType: "void"
                          transaction:
                            amount: "500"
                            currency: "USD"
                            code: "0"
                            invoice: "123456"
                            message: "Success"
                cardPaymentId:
                  value:
                    links:
                      self: "x"
                      next: "x"
                      note: "URL to call for next set"
                    meta:
                      items: 25
                      count: 26
                      limit: "25"
                      more: true
                    data:
                      - id: "cardPaymentId"
                        type: "payments"
                        attributes:
                          billingAddress:
                            zip: "90210"
                            country: "USA"
                            state: "CA"
                            line2: "Suite 007"
                            city: "Los Angeles"
                            line1: "21 Jump Street"
                          card:
                            number: "xxxx1685"
                            holder: "Jane Doe"
                            expiry: "0220"
                            code: "xxx"
                          created: "2019-10-10T18:49:35.311Z"
                          merchantId: "merchantId"
                          paymentType: "card"
                          transaction:
                            amount: "500"
                            code: "0"
                            authCode: "A11111"
                            avsResult: "T"
                            gross: "500"
                            rate: "2.95"
                            fee: "35"
                            currency: "USD"
                            invoice: "123456"
                            message: "Success"
                            net: "450"
                            grossMinusNet: "50"
                cardSplitId:
                  value:
                    links:
                      self: "x"
                      next: "x"
                      note: "URL to call for next set"
                    meta:
                      items: 25
                      count: 26
                      limit: "25"
                      more: true
                    data:
                      - id: "cardSplitId"
                        type: "payments"
                        attributes:
                          card:
                            number: "xxxx4426"
                            holder: "Dinh Huyen"
                            expiry: "1299"
                            code: "xxx"
                          created: "2019-10-10T18:45:05.688Z"
                          merchantId: "merchantId"
                          paymentType: "cardSplit"
                          transaction:
                            amount: "500"
                            code: "0"
                            authCode: "A11111"
                            avsResult: "T"
                            currency: "USD"
                            invoice: "123456"
                            message: "Success"
                cardRefundId:
                  value:
                    links:
                      self: "x"
                      next: "x"
                      note: "URL to call for next set"
                    meta:
                      items: 25
                      count: 26
                      limit: "25"
                      more: true
                    data:
                      - id: "cardRefundId"
                        type: "payments"
                        attributes:
                          created: "2019-10-10T18:40:37.793Z"
                          merchantId: "merchantId"
                          paymentType: "cardRefund"
                          transaction:
                            amount: "500"
                            currency: "USD"
                            code: "0"
                            invoice: "123456"
                            message: "Success"
                secondSplitId:
                  value:
                    links:
                      self: "x"
                      next: "x"
                      note: "URL to call for next set"
                    meta:
                      items: 25
                      count: 26
                      limit: "25"
                      more: true
                    data:
                      - id: "secondSplitId"
                        type: "payments"
                        attributes:
                          created: "2019-10-10T18:30:34.906Z"
                          merchantId: "merchantId"
                          paymentType: "secondSplit"
                          transaction:
                            message: "Success"
                            amount: "100"
                            code: "0"
                tokenSplitId:
                  value:
                    links:
                      self: "x"
                      next: "x"
                      note: "URL to call for next set"
                    meta:
                      items: 25
                      count: 26
                      limit: "25"
                      more: true
                    data:
                      - id: "tokenSplitId"
                        type: "payments"
                        attributes:
                          created: "2019-10-10T18:29:13.447Z"
                          merchantId: "merchantId"
                          paymentType: "tokenSplit"
                          transaction:
                            amount: "15000"
                            currency: "USD"
                            codeResult: "NotPresent"
                            invoice: "123456"
                            authCode: "A11111"
                TokenPaymentId:
                  value:
                    links:
                      self: "x"
                      next: "x"
                      note: "URL to call for next set"
                    meta:
                      items: 25
                      count: 26
                      limit: "25"
                      more: true
                    data:
                      - id: "TokenPaymentId"
                        type: "payments"
                        attributes:
                          created: "2019-10-10T18:24:01.141Z"
                          merchantId: "merchantId"
                          paymentType: "token"
                          transaction:
                            amount: "001"
                            code: "0"
                            authCode: null
                            gross: null
                            rate: null
                            fee: null
                            currency: "USD"
                            codeResult: "NotPresent"
                            invoice: "PAYMENT-TOKEN-7"
                            message: "Success"
                            net: null
                            grossMinusNet: null
                ACHPaymentId:
                  value:
                    links:
                      self: "x"
                      next: "x"
                      note: "URL to call for next set"
                    meta:
                      items: 25
                      count: 26
                      limit: "25"
                      more: true
                    data:
                      - id: "ACHPaymentId"
                        type: "payments"
                        attributes:
                          created: "2019-10-10T18:20:50.905Z"
                          merchantId: "merchantId"
                          paymentType: "ACH"
                          transaction:
                            amount: "3635"
                            currency: "USD"
                            invoice: "Payment-ACH-02"
                            code: "0"
                            message: "Success"
                            bank:
                              routingNumber: "xxxx9593"
                              bankName: "Wells Fargo"
                              accountNumber: "xxxx4567"
                              accountName: "MegaCorp"
                              accountType: "checking"
              schema:
                type: object
                properties:
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: URL for the current resource.
                      next:
                        type: string
                        description: URL for the next set of data.
                      note:
                        type: string
                        description: Note about the URL to call for the next set.
                  meta:
                    type: object
                    properties:
                      items:
                        type: integer
                        description: Number of items in the current set.
                      count:
                        type: integer
                        description: Total count of items.
                      limit:
                        type: string
                        description: Limit of items per set.
                      more:
                        type: boolean
                        description: Indicates if there is more data available.
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: Identifier for the payment entry.
                        type:
                          type: string
                          description: Type of the payment entry.
                        attributes:
                          type: object
                          description: Attributes associated with the payment entry.
      deprecated: false
  /payments/{cardpaymentId}:
    get:
      tags:
        - Payments
      summary: Get payment by Id
      operationId: get-payment-by-id
      description: >-
        Use endpoint **GET** `/payments/{paymentId}` to retrieve data from an existing transaction.

        > 📘 Note
        
        > There are no request parameters for this endpoint, besides the paymentId in the URI.
      parameters:
        - name: Authorization
          in: header
          schema:
            type: string
          description: >-
            appToken created by `/auth/token`

            <small>Format:  `Bearer xxxxxx...`</small>
          example: Bearer <appToken>
        - name: cardpaymentId
          description: Unique identifier of the payment.
          in: path
          schema:
              type: string
          required: true
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              examples:
                Result:
                  value: |-
                    {
                      "links": {
                        "self": "x"
                      },
                      "data": {
                        "id": "{paymentId}",
                        "attributes": {
                          "merchantId": "{merchantId}",
                          "created": "2019-10-10T18:49:35.311Z",
                          "miscData": "test note",
                          "billingAddress": {
                            "zip": "90210",
                            "country": "USA",
                            "state": "CA",
                            "line2": "Suite 007",
                            "city": "Los Angeles",
                            "line1": "21 Jump Street"
                          },
                          "transaction": {
                            "amount": "500",
                            "code": "0",
                            "authCode": "A11111",
                            "avsResult": "T",
                            "gross": "500",
                            "rate": "2.95",
                            "fee": "35",
                            "currency": "USD",
                            "invoice": "123456",
                            "message": "Success",
                            "net": "450",
                            "grossMinusNet": "50"
                          },
                          "card": {
                            "number": "xxxx1685",
                            "holder": "Jane Doe",
                            "expiry": "0220",
                            "code": "xxx"
                          },
                          "paymentType": "card"
                        },
                        "type": "payments"
                      }
                    }
              schema:
                type: object
                properties:
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: URL for this set
                      next:
                        type: string
                        description: URL for the next set
                      note:
                        type: string
                        description: URL to call for the next set
                  meta:
                    type: object
                    properties:
                      items:
                        type: integer
                        description: Number of items in the response
                      count:
                        type: integer
                        description: Total count of items
                      limit:
                        type: string
                        description: Limit set for the number of items
                      more:
                        type: boolean
                        description: Indicates if there are more items
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: Payment transaction identification code
                        attributes:
                          type: object
                          properties:
                            billingAddress:
                              type: object
                              properties:
                                zip:
                                  type: string
                                  description: The card holder’s zip or postal code
                                country:
                                  type: string
                                  description: The card holder’s home country
                                state:
                                  type: string
                                  description: The card holder’s home state
                                line2:
                                  type: string
                                  description: The card holder’s street address (line 2)
                                city:
                                  type: string
                                  description: The card holder’s home city
                                line1:
                                  type: string
                                  description: The card holder’s street address (line 1)
                            card:
                              type: object
                              properties:
                                number:
                                  type: string
                                  description: The unique number assigned to an account
                                holder:
                                  type: string
                                  description: The first and last name on the account
                                expiry:
                                  type: string
                                  description: The expiration date of the payment method
                                code:
                                  type: string
                                  description: The three-character CVV2 code
                            created:
                              type: string
                              format: date-time
                              description: The time/date when this transaction was created
                            merchantId:
                              type: string
                              description: The merchant ID that this transaction belongs to
                            paymentType:
                              type: string
                              description: The type of payment (card, ach, token, ...)
                            transaction:
                              type: object
                              properties:
                                amount:
                                  type: string
                                  description: The transaction amount in dollars and cents
                                currency:
                                  type: string
                                  description: The currency used for the transaction
                                invoice:
                                  type: string
                                  description: The invoice number for the transaction
                                code:
                                  type: string
                                  description: The banking entity response code
                                message:
                                  type: string
                                  description: The status of the transaction       
      deprecated: false
  /payments/status/{cardpaymentId}:
    get:
      tags:
        - Payments
      summary: Get payment status by Id
      operationId: get-payment-status-by-id
      description: >-
        Use endpoint **GET** `/payments/{paymentId}` to retrieve data from an existing transaction

        > 📘 Note
        
        > There are no request parameters for this endpoint, besides the paymentId in the URI.
      parameters:
        - name: Authorization
          in: header
          schema:
            type: string
          description: >-
            appToken created by `/auth/token`

            <small>Format:  `Bearer xxxxxx...`</small>
          example: Bearer <appToken>
        - name: cardpaymentId
          description: Unique identifier of the payment.
          in: path
          schema:
              type: string
          required: true
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              examples:
                ok:
                  value: |-
                    {
                      "links": {
                        "self": ""
                      },
                      "data": {
                        "id": "paymentId",
                        "txnStatus": "CCDebitPending",
                        "type": "payments"
                      }
                    }
                Result:
                  value: |-
                    {
                      "links": {
                        "self": "x"
                      },
                      "data": {
                        "id": "{paymentId}",
                        "attributes": {
                          "merchantId": "{merchantId}",
                          "created": "2019-10-10T18:49:35.311Z",
                          "miscData": "test note",
                          "billingAddress": {
                            "zip": "90210",
                            "country": "USA",
                            "state": "CA",
                            "line2": "Suite 007",
                            "city": "Los Angeles",
                            "line1": "21 Jump Street"
                          },
                          "transaction": {
                            "amount": "500",
                            "code": "0",
                            "authCode": "A11111",
                            "avsResult": "T",
                            "gross": "500",
                            "rate": "2.95",
                            "fee": "35",
                            "currency": "USD",
                            "invoice": "123456",
                            "message": "Success",
                            "net": "450",
                            "grossMinusNet": "50"
                          },
                          "card": {
                            "number": "xxxx1685",
                            "holder": "Jane Doe",
                            "expiry": "0220",
                            "code": "xxx"
                          },
                          "paymentType": "card"
                        },
                        "type": "payments"
                      }
                    }
              schema:
                type: object
                properties:
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: URL for this set
                      next:
                        type: string
                        description: URL for the next set
                      note:
                        type: string
                        description: URL to call for the next set
                  meta:
                    type: object
                    properties:
                      items:
                        type: integer
                        description: Number of items in the response
                      count:
                        type: integer
                        description: Total count of items
                      limit:
                        type: string
                        description: Limit set for the number of items
                      more:
                        type: boolean
                        description: Indicates if there are more items
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: Payment transaction identification code
                        attributes:
                          type: object
                          properties:
                            billingAddress:
                              type: object
                              properties:
                                zip:
                                  type: string
                                  description: The card holder’s zip or postal code
                                country:
                                  type: string
                                  description: The card holder’s home country
                                state:
                                  type: string
                                  description: The card holder’s home state
                                line2:
                                  type: string
                                  description: The card holder’s street address (line 2)
                                city:
                                  type: string
                                  description: The card holder’s home city
                                line1:
                                  type: string
                                  description: The card holder’s street address (line 1)
                            card:
                              type: object
                              properties:
                                number:
                                  type: string
                                  description: The unique number assigned to an account
                                holder:
                                  type: string
                                  description: The first and last name on the account
                                expiry:
                                  type: string
                                  description: The expiration date of the payment method
                                code:
                                  type: string
                                  description: The three-character CVV2 code
                            created:
                              type: string
                              format: date-time
                              description: The time/date when this transaction was created
                            merchantId:
                              type: string
                              description: The merchant ID that this transaction belongs to
                            paymentType:
                              type: string
                              description: The type of payment (card, ach, token, ...)
                            transaction:
                              type: object
                              properties:
                                amount:
                                  type: string
                                  description: The transaction amount in dollars and cents
                                currency:
                                  type: string
                                  description: The currency used for the transaction
                                invoice:
                                  type: string
                                  description: The invoice number for the transaction
                                code:
                                  type: string
                                  description: The banking entity response code
                                message:
                                  type: string
                                  description: The status of the transaction       
      deprecated: false
  /merchants:
    post:
      tags:
        - Merchants
      summary: Create Merchant
      operationId: create-merchant
      description: >-
        Use endpoint **POST** `/merchants` to set up a new merchant account.
      parameters:
        - name: Authorization
          in: header
          schema:
            type: string
          description: >-
            appToken created by `/auth/token`

            <small>Format:  `Bearer xxxxxx...`</small>
          example: Bearer <appToken>
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                data:
                  type: object
                  description: A key for grouping different types of API data.
                  properties:
                    type:
                      type: string
                      description: The type of transaction. This value must be "merchants".
                    attributes:
                      type: object
                      description: A key for grouping identification and payment information.
                      properties:
                        AVS:
                          type: string
                          description: The AVS mode to set merchant to. Can be `Standard`, `Moderate`, or `Enhanced`.
                        accountType:
                          type: string
                          description: The type of bank account (personal or business). If set to business, enables and requires the businessInfo and businessAddress groupings.
                        accountName:
                          type: string
                          description: The first and last name of the account holder, or if a business, use the business's name. This is also the Statement Descriptor that customers will see on their bank.
                        personalInfo:
                          type: object
                          description: A key for grouping personal information.
                          properties:
                            firstName:
                              type: string
                              description: The merchant’s first name.
                            lastName:
                              type: string
                              description: The merchant’s last name.
                            email:
                              type: string
                              description: The merchant's email address.
                            dayPhone:
                              type: string
                              description: The merchant’s daytime contact number.
                            eveningPhone:
                              type: string
                              description: The merchant’s evening contact number.
                            birthDate:
                              type: string
                              description: The merchant’s date of birth. Use "01-01-1981" for the test environment.
                            socialSecurity:
                              type: string
                              description: The merchant’s social security number.
                        personalAddress:
                          type: object
                          description: A key for grouping personal address information.
                          properties:
                            line1:
                              type: string
                              description: The personal street address.
                            line2:
                              type: string
                              description: A second line for street address information.
                            city:
                              type: string
                              description: The city where the individual is located.
                            state:
                              type: string
                              description: The state where the individual is located. See State and Province Codes for more information.
                            zip:
                              type: string
                              description: The postal code where the individual is located.
                            country:
                              type: string
                              description: The three-character country code. See Country Codes for more information.
                        businessInfo:
                          type: object
                          description: A key for grouping business information.
                          properties:
                            businessName:
                              type: string
                              description: The legal name of the business as registered.
                            ein:
                              type: string
                              description: The Employer Identification Number (EIN).
                            phone:
                              type: string
                              description: The Business Phone Number (Optional).
                            email:
                              type: string
                              description: The Business Email (Optional).
                            url:
                              type: string
                              description: The Business's website URL (optional).
                        businessAddress:
                          type: object
                          description: A key for grouping business address information.
                          properties:
                            line1:
                              type: string
                              description: The business street address.
                            line2:
                              type: string
                              description: A second street address line.
                            city:
                              type: string
                              description: The city where the business is located.
                            state:
                              type: string
                              description: The state where the business is located.
                            zip:
                              type: string
                              description: The postal code where the business is located.
                            country:
                              type: string
                              description: The three-character country code.
                        bankInfo:
                          type: object
                          description: A key for grouping banking information.
                          properties:
                            bankName:
                              type: string
                              description: The name of the financial institution.
                            accountOwnership:
                              type: string
                              description: The valid values are Personal or Business.
                            accountType:
                              type: string
                              description: The type of bank account (Checking or Savings).
                            accountName:
                              type: string
                              description: The Account name attached to the bank account. (Either account holder's name, or the business name)
                            accountNumber:
                              type: string
                              description: The financial institution account number. It is required if boarding with the primary bank on file.
                            routingNumber:
                              type: string
                              description: The bank routing number. This is required if the payment method is checking or savings. Test environment requires a real routing number.
                        verificationData:
                          type: object
                          description: A key for grouping server and timestamp information.
                          properties:
                            ipAddress:
                              type: string
                              description: The IP address used for the transaction.
                            emailVerified:
                              type: boolean
                              description: A true or false value.
                            emailVerifiedTimestamp:
                              type: string
                              format: date-time
                              description: The date and time the email was sent.
                            signature:
                              type: string
                              description: The first and last name of the customer.
                            signatureTimestamp:
                              type: string
                              format: date-time
                              description: The date and time the transaction was authorized.
                            termsAccepted:
                              type: boolean
                              description: A true or false value.
                            threatMatrixPolicy:
                              type: string
                              description: Defaults to `Default`, Policy to use for ThreatMetrix (optional).
                            threatMetrixSessionId:
                              type: string
                              description: A unique identifier (preferably uuidv4), previously used for ThreatMetrix Embed. See the ThreatMetrix documentation for more information (optional).
      responses:
        '201':
          description: 'Created'
          content:
            application/json:
              examples:
                Created:
                  value: |-
                    {
                      "links": {
                        "self": "x"
                      },
                      "data": {
                        "type": "merchants",
                        "id": "merchantId"
                      }
                    }
              schema:
                type: object
                properties:
                  data:
                    type: object
                    description: A key for grouping different types of API data.
                    properties:
                      type:
                        type: string
                        description: The type of transaction. This value must be "merchants".
                      id:
                        type: string
                        description: A merchant identifier. This is the account where the split goes after the transaction settles.
    get:
      tags:
        - Merchants
      summary: Get Merchant List
      operationId: get-merchant-list
      description: >-
        Use endpoint **GET** `/merchants?limit=20` to view a list of the
        merchants

        > 📘 Note
        
        > There are no request parameters for this endpoint, Also change
        `limit` in the URI to whatever integer value of items you want to
        receive.
      parameters:
        - name: Authorization
          in: header
          schema:
            type: string
          description: >-
            appToken created by `/auth/token`

            <small>Format:  `Bearer xxxxxx...`</small>
          example: Bearer <appToken>
        - name: limit
          in: query
          schema:
            type: integer
          description: Limit's the amount of items that will be returned.
          example: 25
      responses:
        '200':
          description: Ok
          content:
            application/json:
              examples:
                ok:
                  value: |-
                    {
                      "link": {
                        "self": "x"
                      },
                      "meta": {
                        "limit": 25,
                        "items": 25,
                        "more": true
                      },
                      "data": [
                        {
                          "id": "merchantId",
                          "attributes": {
                            "accountName": "Huyen Dinh",
                            "accountType": "business",
                            "created": "2019-10-10T19:27:00.680Z"
                          },
                          "type": "merchants"
                        }
                      ]
                    }
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    description: A key for grouping different types of API data.
                    properties:
                      items:
                        type: integer
                        description: The number of items in the database. It is equal to or smaller than the limit’s value.
                      limit:
                        type: string
                        description: The maximum number of results to return.
                      more:
                        type: boolean
                        description: A true/false value that indicates whether “items” or “limit” allows more results.
                  data:
                    type: array
                    description: A key for grouping results.
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: The merchant identification string in Digitzs.
                        attributes:
                          type: object
                          description: A key for grouping identification and payment information.
                          properties:
                            accountName:
                              type: string
                              description: The name of the individual or business associated with the account.
                            accountType:
                              type: string
                              description: The account type (Personal or Business).
                            created:
                              type: string
                              format: date-time
                              description: The date and time that the payment was created.
                            type:
                              type: string
                              description: The transaction type. Must equal “merchants”.
  /merchants/{merchantId}:
    get:
      tags:
        - Merchants
      summary: Get Merchant by Id
      operationId: get-merchant-by-id
      description: >-
        Use endpoint **GET**  `/merchants/{merchantId}` to view information
        about a specific merchant.

        > 📘 Note

        > There are no request parameters for this endpoint.
      parameters:
        - name: Authorization
          in: header
          schema:
            type: string
          description: >-
            appToken created by `/auth/token`

            <small>Format:  `Bearer xxxxxx...`</small>
          example: Bearer <appToken>
        - name: merchantId
          in: path
          schema:
            type: string
          description: The unique identifier of the merchant being searched.
          example: 'xxxxxx'
          required: true
      responses:
        '200':
          description: Ok
          content:
            application/json:
              examples:
                ok:
                  value: |-
                    {
                      "links": {
                        "self": "x"
                      },
                      "data": {
                        "type": "merchants",
                        "id": "merchantId",
                        "attributes": {
                          "accountName": "Tuan Ngoc",
                          "accountType": "business",
                          "personalInfo": {
                            "eveningPhone": "3105551222",
                            "firstName": "Tuan",
                            "lastName": "Ngoc",
                            "dayPhone": "1234564324",
                            "socialSecurity": "xxxx6789",
                            "birthDate": "xxxx2000",
                            "email": "Ngoc@centralfax.co.uk"
                          },
                          "bankInfo": {
                            "routingNumber": "xxxx9593",
                            "bankName": "VCB",
                            "accountNumber": "xxxx4567",
                            "accountName": "LuongDung",
                            "accountOwnership": "business",
                            "accountType": "savings"
                          },
                          "verificationData": {
                            "ipAddress": "192.168.100.14/23",
                            "emailVerified": true,
                            "signature": "LuongDung",
                            "emailVerifiedTimestamp": "2016-01-31T11:16:07.234Z",
                            "signatureTimestamp": "2016-01-31T11:16:07.234Z"
                          },
                          "created": "2019-09-26T08:15:12.752Z",
                          "partnerId": "corsourc-152910534",
                          "businessAddress": {
                            "zip": "90210",
                            "country": "USA",
                            "state": "CA",
                            "line2": "Suite 007",
                            "city": "Los Angeles",
                            "line1": "21 Jump Streets"
                          },
                          "personalAddress": {
                            "zip": "90210",
                            "country": "USA",
                            "state": "CA",
                            "line2": "Suite 007",
                            "city": "Los Angeles",
                            "line1": "21 Jump Street"
                          },
                          "businessInfo": {
                            "businessName": "TuanNgoc",
                            "ein": "xxxx6789"
                          }
                        }
                      }
                    }
              schema:
                type: object
                properties:
                  data:
                    type: object
                    description: A key for grouping different types of API data. See Objects for more information.
                    properties:
                      id:
                        type: string
                        description: Merchant Identification string for Digitzs.
                      type:
                        type: string
                        description: The type of transaction. This value must be "merchants".
                      attributes:
                        type: object
                        description: A key for grouping identification and payment information.
                        properties:
                          accountType:
                            type: string
                            description: The type of bank account (Checking or Savings).
                          accountName:
                            type: string
                            description: The first and last name of the account holder.
                          personalInfo:
                            type: object
                            description: A key for grouping personal information.
                            properties:
                              firstName:
                                type: string
                                description: The merchant’s first name.
                              lastName:
                                type: string
                                description: The merchant’s last name.
                              email:
                                type: string
                                description: The merchant's email address.
                              dayPhone:
                                type: string
                                description: The merchant’s daytime contact number.
                              eveningPhone:
                                type: string
                                description: The merchant’s evening contact number.
                              birthDate:
                                type: string
                                description: The merchant’s date of birth.
                              socialSecurity:
                                type: string
                                description: The merchant’s social security number.
                              personalAddress:
                                type: object
                                description: A key for grouping personal address information.
                                properties:
                                  line1:
                                    type: string
                                    description: The personal street address.
                                  line2:
                                    type: string
                                    description: A second line for street address information.
                                  city:
                                    type: string
                                    description: The city where the individual is located.
                                  state:
                                    type: string
                                    description: The state where the individual is located.
                                  zip:
                                    type: string
                                    description: The postal code where the individual is located.
                                  country:
                                    type: string
                                    description: The three-character country code.
                              businessInfo:
                                type: object
                                description: A key for grouping business information.
                                properties:
                                  businessName:
                                    type: string
                                    description: The legal name of the business as registered.
                                  ein:
                                    type: string
                                    description: The Employer Identification Number (EIN).
                                  businessAddress:
                                    type: object
                                    description: A key for grouping business address information.
                                    properties:
                                      line1:
                                        type: string
                                        description: The business street address.
                                      line2:
                                        type: string
                                        description: A second street address line.
                                      city:
                                        type: string
                                        description: The city where the business is located.
                                      state:
                                        type: string
                                        description: The state where the business is located.
                                      zip:
                                        type: string
                                        description: The postal code where the business is located.
                                      country:
                                        type: string
                                        description: The three-character country code.
                              bankInfo:
                                type: object
                                description: A key for grouping banking information.
                                properties:
                                  bankName:
                                    type: string
                                    description: The name of the financial institution.
                                  accountOwnership:
                                    type: string
                                    description: The valid values are Personal or Business.
                                  accountType:
                                    type: string
                                    description: The type of bank account (Checking or Savings).
                                  accountName:
                                    type: string
                                    description: The first and last name of the account holder or the business Name.
                                  accountNumber:
                                    type: string
                                    description: The financial institution account number. It is required if boarding with the primary bank on file.
                                  routingNumber:
                                    type: string
                                    description: The bank routing number. This is required if the payment method is checking or savings.
                              verificationData:
                                type: object
                                description: A key for grouping server and timestamp information.
                                properties:
                                  ipAddress:
                                    type: string
                                    description: The IP address used for the transaction.
                                  emailVerified:
                                    type: boolean
                                    description: A true or false value.
                                  emailVerifiedTimestamp:
                                    type: string
                                    description: The date and time the email was sent.
                                  signature:
                                    type: string
                                    description: The first and last name of the customer.
                                  signatureTimestamp:
                                    type: string
                                    description: The date and time the transaction was authorized.
                                  termsAccepted:
                                    type: boolean
                                    description: A true or false value.
    put:
      tags:
        - Merchants
      summary: Put Update Merchant's AVS Mode
      operationId: update-merchant
      description: >-
        Use endpoint **PUT** `/merchants/{merchantId}` to update the AVS mode
        for the specified merchant.
      parameters:
        - name: Authorization
          in: header
          schema:
            type: string
          description: >-
            appToken created by `/auth/token`

            <small>Format:  `Bearer xxxxxx...`</small>
          example: Bearer <appToken>
        - name: merchantId
          in: path
          schema:
            type: string
          description: The unique identifier of the merchant being updated.
          example: 'xxxxxx'
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                data:
                  type: object
                  description: A key for grouping different types of API data. See Objects for more information.
                  properties:
                    type:
                      type: string
                      description: The type of transaction. This value must be "merchants".
                    attributes:
                      type: object
                      description: A key for grouping identification and payment information.
                      properties:
                        group:
                          type: string
                          description: Must be `AVS` for updating the merchant's AVS setting. Enables `AVS` key.
                        AVS:
                          type: string
                          description: The AVS mode to set the merchant to. Can be `Standard`, `Moderate`, or `Enhanced`.
      responses:
        '200':
          description: 'Ok'
          content:
            application/json:
              examples:
                ok:
                  value: |-
                    {
                      "links": {
                        "self": "x"
                      },
                      "data": {
                        "type": "merchants",
                        "id": "merchantId"
                      }
                    }
              schema:
                type: object
                properties:
                  data:
                    type: object
                    description: A key for grouping different types of API data.
                    properties:
                      type:
                        type: string
                        description: The type of transaction. This value must be "merchants".
                      id:
                        type: string
                        description: A merchant identifier. This is the account where the split goes after the transaction settles.
x-readme:
  headers: []
  explorer-enabled: true
  proxy-enabled: true
  samples-enabled: true
x-readme-fauxas: true
